<html>
    <head>
        <title>Mostrar tabla</title>
    </head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
    <body>
        <form class="form-inline" style="margin-top: 5px;" id="formulario">
                <div class="form-group mx-sm-3">
                    <label for="texto" class="sr-only"></label>
                    <input name="texto" type="text" class="form-control" id="texto" autocomplete="off" placeholder="Nombre"> 
                </div>
                <div class="form-group mx-sm-2">
                    <label for="fecha_desde" class="sr-only"></label>
                    <input name="fecha_desde" type="date" class="form-control" id="fecha_desde" autocomplete="off">
                </div>
                <div class="form-group mx-sm-2">
                    <label for="fecha_hasta" class="sr-only"></label>
                    <input name="fecha_hasta" type="date" class="form-control" id="fecha_hasta" autocomplete="off">
                </div>
                <div class="form-group mx-sm-3">
                    <label for="boton" class="sr-only"></label>
                    <input type="hidden" name="boton" value="0"/>
                    <input name="boton" type="checkbox" checked data-toggle="toggle" data-onstyle="primary" id="boton" value="0">
                </div>
                <button type="button" class="btn btn-primary" id="enviar">Enviar</button>
        </form>
    </body>
    <script>
        function getData(){
            const nombre=$('#texto').val();
            const fecha1=$('#fecha_desde').val();
            const fecha2=$('#fecha_hasta').val();
            const borrado=$('#boton').val();
            
            return{
                texto: nombre,
                fecha_desde: fecha1,
                fecha_hasta: fecha2,
                boton: borrado.toString(),
            }
        }
        function callapi(action){
            return $.ajax({
                method: "POST",
                url: "api.php?action="+action,
                data: getData(),
            })
        }
        $(document).on('click','#enviar',function(){
            let callApi = callapi('search');
            callApi.done(function(data){
                resultados=JSON.parse(data);
            })
        })
    </script>
</html>